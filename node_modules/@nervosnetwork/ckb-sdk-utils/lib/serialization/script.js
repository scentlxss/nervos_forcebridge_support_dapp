"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.serializeScript = exports.serializeArgs = exports.serializeHashType = exports.serializeCodeHash = void 0;
const basic_1 = require("./basic");
const exceptions_1 = require("../exceptions");
exports.serializeCodeHash = (codeHash) => basic_1.serializeArray(codeHash);
exports.serializeHashType = (hashType) => {
    if (hashType === 'data')
        return '0x00';
    if (hashType === 'type')
        return '0x01';
    throw new TypeError("Hash type must be either of 'data' or 'type'");
};
exports.serializeArgs = (args) => basic_1.serializeFixVec(args);
exports.serializeScript = (script) => {
    if (!script)
        throw new exceptions_1.ParameterRequiredException('Script');
    const { codeHash = '', hashType, args = '' } = script;
    const serializedCodeHash = exports.serializeCodeHash(codeHash);
    const serializedHashType = exports.serializeHashType(hashType);
    const serializedArgs = exports.serializeArgs(args);
    const table = new Map([
        ['codeHash', serializedCodeHash],
        ['hashType', serializedHashType],
        ['args', serializedArgs],
    ]);
    return basic_1.serializeTable(table);
};
//# sourceMappingURL=script.js.map